console.log("Script de Ejercicios cargado con funcionalidad de men√∫");

// ============================================
// FUNCIONALIDAD DEL MEN√ö EXTRA√çBLE - COPIADO DE MENU.JS
// ============================================

// Funcionalidad del men√∫
const burger = document.getElementById('burger');
const sideMenu = document.getElementById('sideMenu');
const overlay = document.getElementById('overlay');

burger.addEventListener('change', function () {
    if (this.checked) {
        sideMenu.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';

        // INSPECCIONAR ELEMENTOS cuando se abra el men√∫
        setTimeout(inspeccionarYEliminar, 200);
    } else {
        sideMenu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
});

overlay.addEventListener('click', function () {
    burger.checked = false;
    sideMenu.classList.remove('active');
    overlay.classList.remove('active');
    document.body.style.overflow = 'auto';
});

// FUNCI√ìN PARA INSPECCIONAR Y ELIMINAR ELEMENTOS EXTRA√ëOS
function inspeccionarYEliminar() {
    console.log("üîç INSPECCIONANDO ELEMENTOS EN EL MEN√ö");

    const menuButtons = document.querySelector('.menu-buttons');
    if (!menuButtons) return;

    // Obtener TODOS los hijos directos
    const todosLosHijos = Array.from(menuButtons.children);

    console.log("üìã Elementos encontrados en menu-buttons:");
    todosLosHijos.forEach((elemento, index) => {
        console.log(`${index}: ${elemento.tagName} - ${elemento.className} - "${elemento.textContent?.trim()}" - Height: ${elemento.offsetHeight}px`);

        // Eliminar elementos sospechosos
        if (
            // Elementos HR
            elemento.tagName === 'HR' ||
            // Elementos vac√≠os o con poca altura
            (elemento.offsetHeight <= 5 && !elemento.textContent?.trim()) ||
            // Elementos con clases de separador
            elemento.className?.includes('separator') ||
            elemento.className?.includes('divider') ||
            elemento.className?.includes('line') ||
            // Elementos que no son botones y no tienen texto
            (!elemento.classList.contains('menu-button') && !elemento.textContent?.trim())
        ) {
            console.log(`üóëÔ∏è ELIMINANDO elemento sospechoso: ${elemento.tagName} - ${elemento.className}`);
            elemento.remove();
        }
    });

    // Tambi√©n verificar en el contenedor principal del men√∫
    const sideMenuChildren = Array.from(sideMenu.children);
    console.log("üìã Elementos en side-menu:");
    sideMenuChildren.forEach((elemento, index) => {
        console.log(`${index}: ${elemento.tagName} - ${elemento.className} - Height: ${elemento.offsetHeight}px`);

        // Eliminar elementos extra√±os que no sean menu-header, menu-buttons o menu-bottom
        if (!['menu-header', 'menu-buttons', 'menu-bottom'].some(clase => elemento.classList.contains(clase))) {
            if (elemento.tagName === 'HR' || elemento.offsetHeight <= 5) {
                console.log(`üóëÔ∏è ELIMINANDO elemento extra√±o en side-menu: ${elemento.tagName}`);
                elemento.remove();
            }
        }
    });
    console.log("‚úÖ INSPECCI√ìN COMPLETA");
}