<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro PIAR - LUDIK</title>
    <link rel="icon" href="img/Ludik2.png" type="image/x-icon">
    <link rel="stylesheet" href="Css/Registrar_PIAR.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Header con men√∫ extra√≠ble -->
    <div class="header">
        <div class="left-section">
            <label class="burger" for="burger">
                <input type="checkbox" id="burger">
                <span></span>
                <span></span>
                <span></span>
            </label>
            <span class="menu-text">MEN√ö</span>
        </div>
        
        <div class="center-section">
            <div class="title">LUDIK</div>
        </div>
        
        <div class="right-section">
            <img src="img/Ludik2.png" alt="Logo Ludik" class="header-logo">
        </div>
    </div>

    <!-- Overlay para cerrar menu -->
    <div class="overlay" id="overlay"></div>

    <!-- Men√∫ lateral -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <div class="menu-title">Panel De Control</div>
        </div>
        <div class="menu-buttons">
            <button class="menu-button">
                <span class="menu-icon">üë§</span>
                Perfil
            </button>
            <button class="menu-button">
                <span class="menu-icon">üë•</span>
                Estudiantes
            </button>
            <button class="menu-button" id="btnCrearCuentas">
                <span class="menu-icon">‚ûï</span>
                Crear Cuentas
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìö</span>
                Actividades
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìù</span>
                Registrar un nuevo estudiante
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìã</span>
                Registrar un PIAR y diagn√≥stico m√©dico
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìä</span>
                Crear una Valoraci√≥n Pedag√≥gica
            </button>
            <button class="menu-button">
                <span class="menu-icon">üí¨</span>
                Comunicate
            </button>
            <button class="menu-button">
                <span class="menu-icon">‚ùì</span>
                Ayuda
            </button>
        </div>
        <div class="menu-bottom">
            <button class="menu-button close-session">
                <span class="menu-icon">üö™</span>
                Cerrar Sesi√≥n
            </button>
        </div>
    </div>

    <main class="main-content">
        <section class="section">
            <h1>Registro de PIAR y Diagn√≥stico M√©dico</h1>

            <!-- Indicador de progreso -->
            <div class="progress-indicator">
                <div class="step-indicator active" id="step1">1</div>
                <div class="step-indicator" id="step2">2</div>
                <div class="step-indicator" id="step3">3</div>
                <div class="step-indicator" id="step4">4</div>
            </div>

            <!-- Mensaje de estado -->
            <div id="mensaje" class="mensaje" style="display: none;"></div>

            <!-- PASO 1: Selecci√≥n de Estudiante y Registro PIAR -->
            <form id="form-piar" class="form-step active">
                <h2>Paso 1: Informaci√≥n del PIAR</h2>

                <label for="id_estudiante">Estudiante:</label>
                <select id="id_estudiante" name="id_estudiante" required>
                    <option value="">Seleccionar estudiante...</option>
                </select>

                <label for="fecha_piar">Fecha del PIAR:</label>
                <input type="date" id="fecha_piar" name="fecha" required>

                <label for="ajuste">Ajuste:</label>
                <textarea id="ajuste" name="ajuste" rows="4" placeholder="Describa los ajustes necesarios..."
                    required></textarea>

                <label for="apoyo">Apoyo:</label>
                <textarea id="apoyo" name="apoyo" rows="4" placeholder="Describa los apoyos requeridos..."
                    required></textarea>

                <label for="barrera">Barrera:</label>
                <textarea id="barrera" name="barrera" rows="4" placeholder="Describa las barreras identificadas..."
                    required></textarea>

                <div class="navigation-buttons">
                    <button type="button" class="btn-nav btn-inicio"
                        onclick="window.location.href='Interfaz.html'">Inicio</button>
                    <button type="button" class="btn-nav btn-siguiente" onclick="registrarPIAR()">Siguiente</button>
                </div>
            </form>

            <!-- PASO 2: Registro de Tratamientos -->
            <form id="form-tratamiento" class="form-step">
                <h2>Paso 2: Tratamientos</h2>

                <div id="tratamientos-container">
                    <div class="tratamiento-item">
                        <label for="descripcion_tratamiento_1">Descripci√≥n del Tratamiento:</label>
                        <textarea id="descripcion_tratamiento_1" name="descripcion_tratamiento[]" rows="3"
                            placeholder="Describa el tratamiento..."></textarea>

                        <label for="frecuencia_tratamiento_1">Frecuencia:</label>
                        <input type="text" id="frecuencia_tratamiento_1" name="frecuencia_tratamiento[]"
                            placeholder="Ej: Una vez por semana">
                    </div>
                </div>

                <button type="button" class="btn-agregar" onclick="agregarTratamiento()">+ Agregar Tratamiento</button>

                <div class="navigation-buttons">
                    <button type="button" class="btn-nav btn-anterior" onclick="mostrarPaso(1)">Anterior</button>
                    <button type="button" class="btn-nav btn-siguiente"
                        onclick="registrarTratamientos()">Siguiente</button>
                </div>
            </form>

            <!-- PASO 3: Registro de Medicamentos y Atenci√≥n M√©dica -->
            <form id="form-medicamentos" class="form-step">
                <h2>Paso 3: Medicamentos y Atenci√≥n M√©dica</h2>

                <h3>Medicamentos</h3>
                <div id="medicamentos-container">
                    <div class="medicamento-item">
                        <label for="descripcion_medicamento_1">Descripci√≥n del Medicamento:</label>
                        <textarea id="descripcion_medicamento_1" name="descripcion_medicamento[]" rows="2"
                            placeholder="Nombre y detalles del medicamento..."></textarea>

                        <label for="frecuencia_medicamento_1">Frecuencia/Horario:</label>
                        <input type="text" id="frecuencia_medicamento_1" name="frecuencia_medicamento[]"
                            placeholder="Ej: Cada 8 horas">
                    </div>
                </div>

                <button type="button" class="btn-agregar" onclick="agregarMedicamento()">+ Agregar Medicamento</button>

                <h3>Atenci√≥n M√©dica</h3>
                <div id="atencion-container">
                    <div class="atencion-item">
                        <label for="descripcion_atencion_1">Descripci√≥n de la Atenci√≥n:</label>
                        <textarea id="descripcion_atencion_1" name="descripcion_atencion[]" rows="2"
                            placeholder="Tipo de atenci√≥n m√©dica..."></textarea>

                        <label for="frecuencia_atencion_1">Frecuencia:</label>
                        <input type="text" id="frecuencia_atencion_1" name="frecuencia_atencion[]"
                            placeholder="Ej: Cada 3 meses">
                    </div>
                </div>

                <button type="button" class="btn-agregar" onclick="agregarAtencion()">+ Agregar Atenci√≥n</button>

                <div class="navigation-buttons">
                    <button type="button" class="btn-nav btn-anterior" onclick="mostrarPaso(2)">Anterior</button>
                    <button type="button" class="btn-nav btn-siguiente"
                        onclick="registrarMedicamentosYAtencion()">Siguiente</button>
                </div>
            </form>

            <!-- PASO 4: Diagn√≥stico M√©dico -->
            <form id="form-diagnostico" class="form-step">
                <h2>Paso 4: Diagn√≥stico M√©dico</h2>

                <label for="dx_descripcion">Descripci√≥n del Diagn√≥stico (DX):</label>
                <textarea id="dx_descripcion" name="DX" rows="4" placeholder="Descripci√≥n detallada del diagn√≥stico..."
                    required></textarea>

                <label for="apoyos_tecnicos">Apoyos T√©cnicos:</label>
                <textarea id="apoyos_tecnicos" name="apoyos_tecnicos" rows="3"
                    placeholder="Describa los apoyos t√©cnicos necesarios..."></textarea>

                <label for="url_soporte_dx">URL Soporte Diagn√≥stico (opcional):</label>
                <input type="url" id="url_soporte_dx" name="url_soporte_dx" placeholder="https://...">

                <label for="diagnosticos_cie10">Diagn√≥sticos CIE-10:</label>
                <div id="diagnosticos-cie10-container" class="checkboxes-container">
                    <!-- Los diagn√≥sticos se cargar√°n din√°micamente -->
                </div>

                <div class="navigation-buttons">
                    <button type="button" class="btn-nav btn-anterior" onclick="mostrarPaso(3)">Anterior</button>
                    <button type="button" class="btn-nav btn-registrar" onclick="registrarDiagnostico()">Completar
                        Registro</button>
                </div>
            </form>
        </section>
    </main>

    <button class="back-btn" onclick="goBackOrRedirect('Interfaz.html')">
        ‚¨Ö Regresar
    </button>

    <footer class="pie-pagina">
        <p>&copy; 2025 LUDIK - Sistema de Gesti√≥n Educativa. Todos los derechos reservados.</p>
    </footer>

    <script src="Js/Registrar_PIAR.js"></script>
</body>

</html>