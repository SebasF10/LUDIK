<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Estudiantes - LUDIK</title>
    <link rel="icon" href="img/Ludik2.png" type="image/x-icon">
    <link rel="stylesheet" href="Css/Estudiantes.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Agregar jsPDF y html2canvas para generar PDFs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>

<body>
    <!-- Header con Men√∫ Extra√≠ble -->
    <div class="header">
        <div class="left-section">
            <label class="burger" for="burger">
                <input type="checkbox" id="burger">
                <span></span>
                <span></span>
                <span></span>
            </label>
            <span class="menu-text">MEN√ö</span>
        </div>

        <div class="centro">
            <h1 class="titulo-ludik">
                <img src="img\LUDIK_texto.png" alt="LUDIK" class="imagen-ludik-header">
            </h1>
        </div>

        <div class="right-section">
            <img src="img/Ludik2.png" alt="Logo Ludik" class="header-logo">
            <img src="img/sistemas.png" alt="Sistemas" class="logo-institucion">
            <img src="img/logoguanenta.png" alt="Colegio" class="logo-institucion">
        </div>
    </div>

    <!-- Overlay para cerrar men√∫ -->
    <div class="overlay" id="overlay"></div>

    <!-- Men√∫ lateral -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <div class="menu-title">Panel De Control</div>
        </div>
        <div class="menu-buttons">
            <button class="menu-button">
                <span class="menu-icon">üè†</span>
                Volver a Interfaz
            </button>
            <button class="menu-button">
                <span class="menu-icon">üë§</span>
                Perfil
            </button>
            <button class="menu-button" id="btnCrearCuentas">
                <span class="menu-icon">‚ûï</span>
                Crear Cuentas
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìö</span>
                Actividades
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìù</span>
                Registrar un nuevo estudiante
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìã</span>
                Registrar un PIAR y diagn√≥stico m√©dico
            </button>
            <button class="menu-button">
                <span class="menu-icon">üìä</span>
                Crear una Valoraci√≥n Pedag√≥gica
            </button>
            <button class="menu-button">
                <span class="menu-icon">üí¨</span>
                Comunicate
            </button>
            <button class="menu-button">
                <span class="menu-icon">‚ùì</span>
                Ayuda
            </button>
            <button class="menu-button close-session">
                <span class="menu-icon">üö™</span>
                Cerrar Sesi√≥n
            </button>
        </div>
    </div>

    <!-- Contenido Principal -->
    <div class="main-content">
        <!-- Navegaci√≥n interna -->
        <div class="nav-interno">
            <button class="nav-btn active" data-section="buscar">Buscar Estudiantes</button>
            <button class="nav-btn" data-section="lista">Lista Completa</button>
        </div>

        <!-- Secci√≥n de B√∫squeda -->
        <section id="buscar" class="section active">
            <h1>Buscar Estudiantes</h1>

            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Buscar por nombre, apellidos o documento...">
                    <button id="searchBtn" class="btn-search">Buscar</button>
                </div>

                <div class="filters">
                    <select id="gradoFilter">
                        <option value="">Todos los grados</option>
                    </select>
                    <select id="grupoFilter">
                        <option value="">Todos los grupos</option>
                    </select>
                </div>

                <!-- Botones de descarga para b√∫squeda -->
                <div class="download-controls" id="searchDownloadControls" style="display: none;">
                    <button id="downloadSearchPDF" class="btn-download">
                        üìÑ Descargar Resultados PDF
                    </button>
                    <button id="downloadSearchExcel" class="btn-download btn-excel">
                        üìä Descargar Resultados Excel
                    </button>
                </div>
            </div>

            <div class="search-results" id="searchResults">
                <!-- Aqu√≠ se mostrar√°n los resultados de b√∫squeda -->
            </div>
        </section>

        <!-- Secci√≥n de Lista Completa -->
        <section id="lista" class="section">
            <h1>Lista de Estudiantes</h1>

            <div class="list-controls">
                <div class="pagination-controls">
                    <button id="prevPage" class="btn-pagination">Anterior</button>
                    <span id="pageInfo">P√°gina 1 de 1</span>
                    <button id="nextPage" class="btn-pagination">Siguiente</button>
                </div>

                <!-- Botones de descarga para lista completa -->
                <div class="download-controls">
                    <button id="downloadAllPDF" class="btn-download">
                        üìÑ Descargar Todo PDF
                    </button>
                    <button id="downloadAllExcel" class="btn-download btn-excel">
                        üìä Descargar Todo Excel
                    </button>
                </div>
            </div>

            <div class="students-grid" id="studentsGrid">
                <!-- Aqu√≠ se mostrar√° la lista de estudiantes -->
            </div>
        </section>
    </div>

    <!-- Modal para mostrar informaci√≥n detallada del estudiante -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <!-- La foto del estudiante se agregar√° din√°micamente aqu√≠ -->
                <h2 id="modalTitle">Informaci√≥n del Estudiante</h2>
                <!-- Botones de descarga en el modal -->
                <div class="modal-download-buttons">
                    <button id="downloadStudentPDF" class="btn-download-modal">
                        üìÑ Descargar PIAR
                    </button>
                    <button id="downloadActaAcuerdo" class="btn-download-modal btn-acta">
                        üìã Descargar Acta de Acuerdo
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <!-- Pesta√±as del modal -->
                <div class="modal-tabs">
                    <button class="modal-tab active" data-tab="personal">Datos Personales</button>
                    <button class="modal-tab" data-tab="academico">Informaci√≥n Acad√©mica</button>
                    <button class="modal-tab" data-tab="familia">Informaci√≥n Familiar</button>
                    <button class="modal-tab" data-tab="medico">Informaci√≥n M√©dica</button>
                    <button class="modal-tab" data-tab="piar">PIAR</button>
                </div>

                <!-- Contenido de las pesta√±as -->
                <div id="personalTab" class="tab-content active">
                    <div class="info-section">
                        <h3>Datos B√°sicos</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">Nombre Completo:</span>
                                <span class="value" id="nombreCompleto"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Documento:</span>
                                <span class="value" id="documento"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Fecha de Nacimiento:</span>
                                <span class="value" id="fechaNacimiento"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Lugar de Nacimiento:</span>
                                <span class="value" id="lugarNacimiento"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Sector:</span>
                                <span class="value" id="sector"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Direcci√≥n:</span>
                                <span class="value" id="direccion"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Tel√©fono:</span>
                                <span class="value" id="telefono"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Correo:</span>
                                <span class="value" id="correo"></span>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <h3>Informaci√≥n Social</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">V√≠ctima de Conflicto:</span>
                                <span class="value" id="victimaConflicto"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Grupo √âtnico:</span>
                                <span class="value" id="grupoEtnico"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Con quien Vive:</span>
                                <span class="value" id="conQuienVive"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Afiliaci√≥n de Salud:</span>
                                <span class="value" id="afiliacionSalud"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="academicoTab" class="tab-content">
                    <div class="info-section">
                        <h3>Informaci√≥n Acad√©mica</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">Grado Actual:</span>
                                <span class="value" id="gradoActual"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">Grupo:</span>
                                <span class="value" id="grupoActual"></span>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <h3>Entorno Educativo</h3>
                        <div class="info-grid" id="entornoEducativo">
                            <!-- Se llenar√° din√°micamente -->
                        </div>
                    </div>
                </div>

                <div id="familiaTab" class="tab-content">
                    <div class="info-section">
                        <h3>Informaci√≥n de la Madre</h3>
                        <div class="info-grid" id="infoMadre">
                            <!-- Se llenar√° din√°micamente -->
                        </div>
                    </div>

                    <div class="info-section">
                        <h3>Informaci√≥n del Padre</h3>
                        <div class="info-grid" id="infoPadre">
                            <!-- Se llenar√° din√°micamente -->
                        </div>
                    </div>

                    <div class="info-section">
                        <h3>Informaci√≥n del Acudiente</h3>
                        <div class="info-grid" id="infoAcudiente">
                            <!-- Se llenar√° din√°micamente -->
                        </div>
                    </div>
                </div>

                <div id="medicoTab" class="tab-content">
                    <div class="info-section">
                        <h3>Informaci√≥n M√©dica</h3>
                        <div class="medical-info" id="infoMedica">
                            <!-- Se llenar√° din√°micamente -->
                        </div>
                    </div>
                </div>

                <div id="piarTab" class="tab-content">
                    <div class="info-section">
                        <h3>Plan Individual de Ajustes Razonables (PIAR)</h3>
                        <div class="piar-info" id="infoPiar">
                            <!-- Se llenar√° din√°micamente -->
                        </div>
                    </div>

                    <div class="info-section">
                        <h3>Valoraciones Pedag√≥gicas</h3>
                        <div class="valoraciones-list" id="valoracionesList">
                            <!-- Se llenar√° din√°micamente -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading spinner -->
    <div id="loadingSpinner" class="loading-spinner">
        <div class="spinner"></div>
        <p>Cargando...</p>
    </div>

    <!-- PDF Loading spinner -->
    <div id="pdfLoadingSpinner" class="loading-spinner">
        <div class="spinner"></div>
        <p>Generando PDF...</p>
    </div>

    <script src="Js/Estudiantes.js"></script>
</body>

</html>